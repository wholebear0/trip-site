<!DOCTYPE html>
<html>
<head>
  <title>Trip Page</title>
  <style>
    body {
      font-family: Arial;
      margin: 0;
      padding: 20px;
      background: #f4f4f4;
    }

    h1 {
      margin-bottom: 10px;
    }

    #gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 10px;
      margin-top: 20px;
    }

    #gallery img {
      width: 100%;
      border-radius: 8px;
    }
  </style>
</head>

<body>

<h1 id="title">Loading...</h1>
<p id="meta"></p>

<div id="gallery"></div>

<script>
const params = new URLSearchParams(window.location.search);
const slug = params.get("slug"); // e.g., "romero-canyon"

// Title
document.getElementById("title").textContent = slug.replaceAll("-", " ");

// Cloudinary tag URL
const cloudName = "YOUR_CLOUD_NAME";
const tag = slug; // we use the same slug as tag
const gallery = document.getElementById("gallery");
gallery.innerHTML = "Loading...";

fetch(`https://res.cloudinary.com/${cloudName}/image/list/${tag}.json`)
  .then(res => {
    if (!res.ok) throw new Error("Network response not OK");
    return res.json();
  })
  .then(data => {
    gallery.innerHTML = "";
    if (!data.resources || data.resources.length === 0) {
      gallery.innerHTML = "No photos found for this trip.";
      return;
    }

    data.resources.forEach(img => {
      const image = document.createElement("img");
      image.src = img.secure_url;
      image.style.width = "100%";
      image.style.marginBottom = "10px";
      gallery.appendChild(image);
    });
  })
  .catch(err => {
    console.error("Cloudinary fetch failed:", err);
    gallery.innerHTML = "Failed to load photos.";
  });

</script>


</body>
</html>



