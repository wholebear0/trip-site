<!DOCTYPE html>
<html>
<head>
  <title>Trip Page</title>
  <style>
    body {
      font-family: Arial;
      margin: 0;
      padding: 20px;
      background: #f4f4f4;
    }

    h1 {
      margin-bottom: 10px;
    }

    #gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 10px;
      margin-top: 20px;
    }

    #gallery img {
      width: 100%;
      border-radius: 8px;
    }
  </style>
</head>

<body>

<h1 id="title">Loading...</h1>
<p id="meta"></p>

<div id="gallery"></div>

<script>
const params = new URLSearchParams(window.location.search);
const slug = params.get("slug");

// Set title
document.getElementById("title").textContent = slug.replaceAll("-", " ");

// Cloudinary folder path
const folder = `hikes/${slug}`;

// Load images dynamically
fetch(`https://res.cloudinary.com/dudbxqaxs/image/list/${folder}.json`)
  .then(res => res.json())
  .then(data => {
    const gallery = document.getElementById("gallery");

    data.resources.forEach(img => {
      const image = document.createElement("img");
      image.src = img.secure_url;
      gallery.appendChild(image);
    });
  })
  .catch(err => console.error("Gallery load failed", err));

  });
</script>


</body>
</html>


